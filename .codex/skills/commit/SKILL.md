---
name: commit
description: 执行“先做 CR、再同步 README、最后提交 commit”的标准流程。用于用户要求代码审查、文档与代码一致性校验、以及一次性完成提交的场景。
---

# Commit

按以下流程完成任务，并在每一步输出简短结果。

## 1) 做 CR（先结论后细节）

- 优先检查行为回归、参数边界、错误处理、数据一致性、测试覆盖。
- 列出问题时给出严重级别和文件定位（`path:line`）。
- 若无问题，明确写“未发现阻断问题”，并给出残余风险。

## 2) 校验 README 与代码一致

- 对照命令、配置项、默认行为、限制条件、错误提示进行核对。
- 若代码已变更导致文档过期，先更新 README 再继续。
- 文档只写当前真实行为，不写“计划中”内容。

## 3) 最小验证

- 至少执行现有测试命令（若项目有测试）。
- 若只改文档，也要说明未跑测试的原因。

## 4) 提交 commit

- 仅提交本次任务相关文件，避免夹带无关改动。
- commit message 用祈使语义，简洁表达“做了什么”。
- 提交后回报：commit hash、变更文件、验证结果。

## 执行约束

- 用户明确要求“先 CR 再 commit”时，不要跳步。
- 若发现与用户要求冲突（例如要求不符的提交范围），先说明再执行。
- 保持输出简洁，可直接用于团队同步。
